import{S as U,i as X,s as Y,a as k,w as A,k as I,N as Z,h as v,c as H,x as B,l as V,m as q,n as T,b as W,y as C,F as g,f as M,d as x,t as S,z as F,O as ee,M as te,q as O,r as j,u as G,g as ae}from"../../../../chunks/index-bc2baea7.js";import{p as se}from"../../../../chunks/stores-16595c51.js";import{T as ne}from"../../../../chunks/TimelineHeatmap-f8a9bab1.js";import{D as re}from"../../../../chunks/Disclaimer-1872fbc3.js";import{D as le}from"../../../../chunks/DisclaimerHidden-67d93911.js";import{C as me}from"../../../../chunks/CalendarList-ae4000ba.js";import{F as oe,f as z,d as J,b as ie,c as K}from"../../../../chunks/Footer-cdca4abb.js";import{H as fe}from"../../../../chunks/Header-c7de4272.js";function Q(l,f,u){const m=l.slice();return m[4]=f[u],m}function R(l){let f,u,m,y=z(new Date(l[4].date),"MMMM d, yyyy")+"",c,D,s,p,E,$=z(new Date(l[4].date),"EEEE")+"",_,w,d,o,h;return o=new me({props:{date:l[2].params.date,segments:l[4].segments,entry:l[2].params.entry,bundle:l[0].bundle}}),{c(){f=I("div"),u=I("h2"),m=I("a"),c=O(y),s=k(),p=I("span"),E=O("- "),_=O($),w=k(),d=I("div"),A(o.$$.fragment),this.h()},l(n){f=V(n,"DIV",{class:!0});var i=q(f);u=V(i,"H2",{class:!0});var t=q(u);m=V(t,"A",{href:!0,class:!0});var L=q(m);c=j(L,y),L.forEach(v),s=H(t),p=V(t,"SPAN",{class:!0});var e=q(p);E=j(e,"- "),_=j(e,$),e.forEach(v),t.forEach(v),w=H(i),d=V(i,"DIV",{class:!0});var a=q(d);B(o.$$.fragment,a),a.forEach(v),i.forEach(v),this.h()},h(){T(m,"href",D="/"+l[2].params.entry+"/day/"+l[4].date),T(m,"class","text-pbw-red hover:underline"),T(p,"class","pbw-text-color-primary"),T(u,"class","text-3xl md:text-3xl"),T(d,"class","mt-6"),T(f,"class","mb-14")},m(n,i){W(n,f,i),g(f,u),g(u,m),g(m,c),g(u,s),g(u,p),g(p,E),g(p,_),g(f,w),g(f,d),C(o,d,null),h=!0},p(n,i){(!h||i&2)&&y!==(y=z(new Date(n[4].date),"MMMM d, yyyy")+"")&&G(c,y),(!h||i&6&&D!==(D="/"+n[2].params.entry+"/day/"+n[4].date))&&T(m,"href",D),(!h||i&2)&&$!==($=z(new Date(n[4].date),"EEEE")+"")&&G(_,$);const t={};i&4&&(t.date=n[2].params.date),i&2&&(t.segments=n[4].segments),i&4&&(t.entry=n[2].params.entry),i&1&&(t.bundle=n[0].bundle),o.$set(t)},i(n){h||(M(o.$$.fragment,n),h=!0)},o(n){S(o.$$.fragment,n),h=!1},d(n){n&&v(f),F(o)}}}function de(l){let f,u,m,y,c,D,s,p,E,$,_,w,d,o,h,n;document.title=f="Schedule | #PBW"+l[2].params.entry+" Explore",m=new fe({props:{path:!1,type:"schedule"}}),p=new ne({props:{data:l[0],highlightDay:l[2].params.date}});let i=l[1],t=[];for(let e=0;e<i.length;e+=1)t[e]=R(Q(l,i,e));const L=e=>S(t[e],1,1,()=>{t[e]=null});return _=new le({}),d=new re({props:{type:"events"}}),h=new oe({props:{bundle:l[0].bundle}}),{c(){u=k(),A(m.$$.fragment),y=k(),c=I("div"),D=I("div"),s=I("div"),A(p.$$.fragment),E=k();for(let e=0;e<t.length;e+=1)t[e].c();$=k(),A(_.$$.fragment),w=k(),A(d.$$.fragment),o=k(),A(h.$$.fragment),this.h()},l(e){Z("svelte-wf5yqv",document.head).forEach(v),u=H(e),B(m.$$.fragment,e),y=H(e),c=V(e,"DIV",{class:!0});var b=q(c);D=V(b,"DIV",{class:!0});var N=q(D);s=V(N,"DIV",{class:!0});var r=q(s);B(p.$$.fragment,r),E=H(r);for(let P=0;P<t.length;P+=1)t[P].l(r);$=H(r),B(_.$$.fragment,r),w=H(r),B(d.$$.fragment,r),r.forEach(v),N.forEach(v),b.forEach(v),o=H(e),B(h.$$.fragment,e),this.h()},h(){T(s,"class","mx-4 xl:mx-0"),T(D,"class","max-w-7xl mx-auto pt-5 md:pt-10"),T(c,"class","w-full")},m(e,a){W(e,u,a),C(m,e,a),W(e,y,a),W(e,c,a),g(c,D),g(D,s),C(p,s,null),g(s,E);for(let b=0;b<t.length;b+=1)t[b].m(s,null);g(s,$),C(_,s,null),g(s,w),C(d,s,null),W(e,o,a),C(h,e,a),n=!0},p(e,[a]){(!n||a&4)&&f!==(f="Schedule | #PBW"+e[2].params.entry+" Explore")&&(document.title=f);const b={};if(a&1&&(b.data=e[0]),a&4&&(b.highlightDay=e[2].params.date),p.$set(b),a&7){i=e[1];let r;for(r=0;r<i.length;r+=1){const P=Q(e,i,r);t[r]?(t[r].p(P,a),M(t[r],1)):(t[r]=R(P),t[r].c(),M(t[r],1),t[r].m(s,$))}for(ae(),r=i.length;r<t.length;r+=1)L(r);x()}const N={};a&1&&(N.bundle=e[0].bundle),h.$set(N)},i(e){if(!n){M(m.$$.fragment,e),M(p.$$.fragment,e);for(let a=0;a<i.length;a+=1)M(t[a]);M(_.$$.fragment,e),M(d.$$.fragment,e),M(h.$$.fragment,e),n=!0}},o(e){S(m.$$.fragment,e),S(p.$$.fragment,e),t=t.filter(Boolean);for(let a=0;a<t.length;a+=1)S(t[a]);S(_.$$.fragment,e),S(d.$$.fragment,e),S(h.$$.fragment,e),n=!1},d(e){e&&v(u),F(m,e),e&&v(y),e&&v(c),F(p),ee(t,e),F(_),F(d),e&&v(o),F(h,e)}}}function ue(l,f,u){let m,y;te(l,se,s=>u(2,y=s));let{data:c}=f;function D(s){const p=[];for(let E=0;E<J.days;E++){const $=z(ie(new Date(J.date),E),"yyyy-MM-dd"),_={start:$+"T00:00",end:$+"T23:59"};let w=[];for(const d of s)for(const o of d.segments)K(new Date(o.startTime),new Date(_.end))<=0&&K(new Date(o.startTime),new Date(_.start))>=0&&w.push({startTime:o.startTime,endTime:o.endTime,event:d,title:o.title,venues:o.venues||d.venues||!1});w=w.sort((d,o)=>d.startTime>o.startTime?1:-1),p.push({date:$,segments:w})}return p}return l.$$set=s=>{"data"in s&&u(0,c=s.data)},l.$$.update=()=>{l.$$.dirty&1&&u(1,m=D(c.bundle.events))},[c,m,y]}class De extends U{constructor(f){super(),X(this,f,ue,de,Y,{data:0})}}export{De as default};
