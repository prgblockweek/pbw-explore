import{S as O,i as Q,s as R,a as k,w as A,k as D,L as U,h as g,c as I,x as B,l as T,m as M,n as b,b as H,y as C,F as y,f as S,d as X,t as V,z as F,M as Y,K as Z,q as L,r as W,u as K,g as x}from"../../../../chunks/index-41559e88.js";import{p as ee}from"../../../../chunks/stores-ec53abc6.js";import{T as te}from"../../../../chunks/TimelineHeatmap-c231b843.js";import{C as ae}from"../../../../chunks/CalendarList-93f326f6.js";import{F as se,f as P,d as N,b as ne,c as j}from"../../../../chunks/Footer-e8b834db.js";import{H as re}from"../../../../chunks/EventTypeBadge-e509a18c.js";function G(n,o,f){const l=n.slice();return l[4]=o[f],l}function J(n){let o,f,l,v=P(new Date(n[4].date),"MMMM d, yyyy")+"",u,$,i,d,w,p=P(new Date(n[4].date),"EEEE")+"",c,_,m,t,q,e;return t=new ae({props:{date:n[2].params.date,segments:n[4].segments,entry:n[2].params.entry,bundle:n[0].bundle}}),{c(){o=D("div"),f=D("h2"),l=D("a"),u=L(v),i=k(),d=D("span"),w=L("- "),c=L(p),_=k(),m=D("div"),A(t.$$.fragment),q=k(),this.h()},l(a){o=T(a,"DIV",{class:!0});var s=M(o);f=T(s,"H2",{class:!0});var h=M(f);l=T(h,"A",{href:!0,class:!0});var r=M(l);u=W(r,v),r.forEach(g),i=I(h),d=T(h,"SPAN",{class:!0});var E=M(d);w=W(E,"- "),c=W(E,p),E.forEach(g),h.forEach(g),_=I(s),m=T(s,"DIV",{class:!0});var z=M(m);B(t.$$.fragment,z),z.forEach(g),q=I(s),s.forEach(g),this.h()},h(){b(l,"href",$="/"+n[2].params.entry+"/day/"+n[4].date),b(l,"class","text-pbw-red hover:underline"),b(d,"class","pbw-text-color-primary"),b(f,"class","text-3xl md:text-3xl"),b(m,"class","mt-6"),b(o,"class","mb-14")},m(a,s){H(a,o,s),y(o,f),y(f,l),y(l,u),y(f,i),y(f,d),y(d,w),y(d,c),y(o,_),y(o,m),C(t,m,null),y(o,q),e=!0},p(a,s){(!e||s&2)&&v!==(v=P(new Date(a[4].date),"MMMM d, yyyy")+"")&&K(u,v),(!e||s&6&&$!==($="/"+a[2].params.entry+"/day/"+a[4].date))&&b(l,"href",$),(!e||s&2)&&p!==(p=P(new Date(a[4].date),"EEEE")+"")&&K(c,p);const h={};s&4&&(h.date=a[2].params.date),s&2&&(h.segments=a[4].segments),s&4&&(h.entry=a[2].params.entry),s&1&&(h.bundle=a[0].bundle),t.$set(h)},i(a){e||(S(t.$$.fragment,a),e=!0)},o(a){V(t.$$.fragment,a),e=!1},d(a){a&&g(o),F(t)}}}function le(n){let o,f,l,v,u,$,i,d,w,p,c,_;document.title=o="Schedule | #PBW"+n[2].params.entry+" Explore",l=new re({props:{path:!1,type:"schedule"}}),d=new te({props:{data:n[0],highlightDay:n[2].params.date}});let m=n[1],t=[];for(let e=0;e<m.length;e+=1)t[e]=J(G(n,m,e));const q=e=>V(t[e],1,1,()=>{t[e]=null});return c=new se({props:{bundle:n[0].bundle}}),{c(){f=k(),A(l.$$.fragment),v=k(),u=D("div"),$=D("div"),i=D("div"),A(d.$$.fragment),w=k();for(let e=0;e<t.length;e+=1)t[e].c();p=k(),A(c.$$.fragment),this.h()},l(e){U("svelte-wf5yqv",document.head).forEach(g),f=I(e),B(l.$$.fragment,e),v=I(e),u=T(e,"DIV",{class:!0});var s=M(u);$=T(s,"DIV",{class:!0});var h=M($);i=T(h,"DIV",{class:!0});var r=M(i);B(d.$$.fragment,r),w=I(r);for(let E=0;E<t.length;E+=1)t[E].l(r);r.forEach(g),h.forEach(g),s.forEach(g),p=I(e),B(c.$$.fragment,e),this.h()},h(){b(i,"class","mx-4 xl:mx-0"),b($,"class","max-w-7xl mx-auto pt-5 md:pt-10"),b(u,"class","w-full")},m(e,a){H(e,f,a),C(l,e,a),H(e,v,a),H(e,u,a),y(u,$),y($,i),C(d,i,null),y(i,w);for(let s=0;s<t.length;s+=1)t[s].m(i,null);H(e,p,a),C(c,e,a),_=!0},p(e,[a]){(!_||a&4)&&o!==(o="Schedule | #PBW"+e[2].params.entry+" Explore")&&(document.title=o);const s={};if(a&1&&(s.data=e[0]),a&4&&(s.highlightDay=e[2].params.date),d.$set(s),a&7){m=e[1];let r;for(r=0;r<m.length;r+=1){const E=G(e,m,r);t[r]?(t[r].p(E,a),S(t[r],1)):(t[r]=J(E),t[r].c(),S(t[r],1),t[r].m(i,null))}for(x(),r=m.length;r<t.length;r+=1)q(r);X()}const h={};a&1&&(h.bundle=e[0].bundle),c.$set(h)},i(e){if(!_){S(l.$$.fragment,e),S(d.$$.fragment,e);for(let a=0;a<m.length;a+=1)S(t[a]);S(c.$$.fragment,e),_=!0}},o(e){V(l.$$.fragment,e),V(d.$$.fragment,e),t=t.filter(Boolean);for(let a=0;a<t.length;a+=1)V(t[a]);V(c.$$.fragment,e),_=!1},d(e){e&&g(f),F(l,e),e&&g(v),e&&g(u),F(d),Y(t,e),e&&g(p),F(c,e)}}}function oe(n,o,f){let l,v;Z(n,ee,i=>f(2,v=i));let{data:u}=o;function $(i){const d=[];for(let w=0;w<N.days;w++){const p=P(ne(new Date(N.date),w),"yyyy-MM-dd"),c={start:p+"T00:00",end:p+"T23:59"};let _=[];for(const m of i)for(const t of m.segments)j(new Date(t.startTime),new Date(c.end))<=0&&j(new Date(t.startTime),new Date(c.start))>=0&&_.push({startTime:t.startTime,endTime:t.endTime,event:m,title:t.title,venues:t.venues||m.venues||!1});_=_.sort((m,t)=>m.startTime>t.startTime?1:-1),d.push({date:p,segments:_})}return d}return n.$$set=i=>{"data"in i&&f(0,u=i.data)},n.$$.update=()=>{n.$$.dirty&1&&f(1,l=$(u.bundle.events))},[u,l,v]}class he extends O{constructor(o){super(),Q(this,o,oe,le,R,{data:0})}}export{he as default};
