import{S as Q,i as R,s as U,a as S,w as A,k,L as X,h as _,c as I,x as B,l as V,m as q,n as b,b as C,y as F,F as h,f as M,d as Y,t as H,z as L,M as Z,K as x,q as z,r as K,u as N,g as ee}from"../../../../chunks/index-41559e88.js";import{p as te}from"../../../../chunks/stores-ec53abc6.js";import{T as ae}from"../../../../chunks/TimelineHeatmap-c231b843.js";import{D as se}from"../../../../chunks/Disclaimer-125119fc.js";import{C as ne}from"../../../../chunks/CalendarList-f53582d8.js";import{F as re,f as W,d as j,b as le,c as G}from"../../../../chunks/Footer-e8b834db.js";import{H as oe}from"../../../../chunks/Header-a6deb8ad.js";function J(n,i,d){const l=n.slice();return l[4]=i[d],l}function O(n){let i,d,l,g=W(new Date(n[4].date),"MMMM d, yyyy")+"",p,$,o,u,w,c=W(new Date(n[4].date),"EEEE")+"",D,v,m,r,E,a;return r=new ne({props:{date:n[2].params.date,segments:n[4].segments,entry:n[2].params.entry,bundle:n[0].bundle}}),{c(){i=k("div"),d=k("h2"),l=k("a"),p=z(g),o=S(),u=k("span"),w=z("- "),D=z(c),v=S(),m=k("div"),A(r.$$.fragment),E=S(),this.h()},l(f){i=V(f,"DIV",{class:!0});var e=q(i);d=V(e,"H2",{class:!0});var t=q(d);l=V(t,"A",{href:!0,class:!0});var y=q(l);p=K(y,g),y.forEach(_),o=I(t),u=V(t,"SPAN",{class:!0});var T=q(u);w=K(T,"- "),D=K(T,c),T.forEach(_),t.forEach(_),v=I(e),m=V(e,"DIV",{class:!0});var s=q(m);B(r.$$.fragment,s),s.forEach(_),E=I(e),e.forEach(_),this.h()},h(){b(l,"href",$="/"+n[2].params.entry+"/day/"+n[4].date),b(l,"class","text-pbw-red hover:underline"),b(u,"class","pbw-text-color-primary"),b(d,"class","text-3xl md:text-3xl"),b(m,"class","mt-6"),b(i,"class","mb-14")},m(f,e){C(f,i,e),h(i,d),h(d,l),h(l,p),h(d,o),h(d,u),h(u,w),h(u,D),h(i,v),h(i,m),F(r,m,null),h(i,E),a=!0},p(f,e){(!a||e&2)&&g!==(g=W(new Date(f[4].date),"MMMM d, yyyy")+"")&&N(p,g),(!a||e&6&&$!==($="/"+f[2].params.entry+"/day/"+f[4].date))&&b(l,"href",$),(!a||e&2)&&c!==(c=W(new Date(f[4].date),"EEEE")+"")&&N(D,c);const t={};e&4&&(t.date=f[2].params.date),e&2&&(t.segments=f[4].segments),e&4&&(t.entry=f[2].params.entry),e&1&&(t.bundle=f[0].bundle),r.$set(t)},i(f){a||(M(r.$$.fragment,f),a=!0)},o(f){H(r.$$.fragment,f),a=!1},d(f){f&&_(i),L(r)}}}function ie(n){let i,d,l,g,p,$,o,u,w,c,D,v,m,r;document.title=i="Schedule | #PBW"+n[2].params.entry+" Explore",l=new oe({props:{path:!1,type:"schedule"}}),u=new ae({props:{data:n[0],highlightDay:n[2].params.date}}),c=new se({props:{type:"events"}});let E=n[1],a=[];for(let e=0;e<E.length;e+=1)a[e]=O(J(n,E,e));const f=e=>H(a[e],1,1,()=>{a[e]=null});return m=new re({props:{bundle:n[0].bundle}}),{c(){d=S(),A(l.$$.fragment),g=S(),p=k("div"),$=k("div"),o=k("div"),A(u.$$.fragment),w=S(),A(c.$$.fragment),D=S();for(let e=0;e<a.length;e+=1)a[e].c();v=S(),A(m.$$.fragment),this.h()},l(e){X("svelte-wf5yqv",document.head).forEach(_),d=I(e),B(l.$$.fragment,e),g=I(e),p=V(e,"DIV",{class:!0});var y=q(p);$=V(y,"DIV",{class:!0});var T=q($);o=V(T,"DIV",{class:!0});var s=q(o);B(u.$$.fragment,s),w=I(s),B(c.$$.fragment,s),D=I(s);for(let P=0;P<a.length;P+=1)a[P].l(s);s.forEach(_),T.forEach(_),y.forEach(_),v=I(e),B(m.$$.fragment,e),this.h()},h(){b(o,"class","mx-4 xl:mx-0"),b($,"class","max-w-7xl mx-auto pt-5 md:pt-10"),b(p,"class","w-full")},m(e,t){C(e,d,t),F(l,e,t),C(e,g,t),C(e,p,t),h(p,$),h($,o),F(u,o,null),h(o,w),F(c,o,null),h(o,D);for(let y=0;y<a.length;y+=1)a[y].m(o,null);C(e,v,t),F(m,e,t),r=!0},p(e,[t]){(!r||t&4)&&i!==(i="Schedule | #PBW"+e[2].params.entry+" Explore")&&(document.title=i);const y={};if(t&1&&(y.data=e[0]),t&4&&(y.highlightDay=e[2].params.date),u.$set(y),t&7){E=e[1];let s;for(s=0;s<E.length;s+=1){const P=J(e,E,s);a[s]?(a[s].p(P,t),M(a[s],1)):(a[s]=O(P),a[s].c(),M(a[s],1),a[s].m(o,null))}for(ee(),s=E.length;s<a.length;s+=1)f(s);Y()}const T={};t&1&&(T.bundle=e[0].bundle),m.$set(T)},i(e){if(!r){M(l.$$.fragment,e),M(u.$$.fragment,e),M(c.$$.fragment,e);for(let t=0;t<E.length;t+=1)M(a[t]);M(m.$$.fragment,e),r=!0}},o(e){H(l.$$.fragment,e),H(u.$$.fragment,e),H(c.$$.fragment,e),a=a.filter(Boolean);for(let t=0;t<a.length;t+=1)H(a[t]);H(m.$$.fragment,e),r=!1},d(e){e&&_(d),L(l,e),e&&_(g),e&&_(p),L(u),L(c),Z(a,e),e&&_(v),L(m,e)}}}function me(n,i,d){let l,g;x(n,te,o=>d(2,g=o));let{data:p}=i;function $(o){const u=[];for(let w=0;w<j.days;w++){const c=W(le(new Date(j.date),w),"yyyy-MM-dd"),D={start:c+"T00:00",end:c+"T23:59"};let v=[];for(const m of o)for(const r of m.segments)G(new Date(r.startTime),new Date(D.end))<=0&&G(new Date(r.startTime),new Date(D.start))>=0&&v.push({startTime:r.startTime,endTime:r.endTime,event:m,title:r.title,venues:r.venues||m.venues||!1});v=v.sort((m,r)=>m.startTime>r.startTime?1:-1),u.push({date:c,segments:v})}return u}return n.$$set=o=>{"data"in o&&d(0,p=o.data)},n.$$.update=()=>{n.$$.dirty&1&&d(1,l=$(p.bundle.events))},[p,l,g]}class ge extends Q{constructor(i){super(),R(this,i,me,ie,U,{data:0})}}export{ge as default};
